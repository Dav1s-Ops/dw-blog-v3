<section class="posts-container">
  <figure class="categories-bar-container">
    <div class="title-container">
      <div class="title-text">Categories</div>
      <%= image_tag "question-filled.svg", class: "question-filled", alt: "text" %>
    </div>
    <div class="category-selectors">
      <% Category.all.each do |category| %>
        <% is_active = @category && @category.id == category.id %>
        <% category_class = "category #{category.name.downcase}" %>
        <% category_class += ' active' if is_active %>
        <% link_path = is_active ? posts_path : category_posts_path(category_id: category.id) %>
        <%= link_to link_path, class: category_class do %>
          <div class="category-text"><%= category.name %></div>
        <% end %>
      <% end %>
    </div>
  </figure>
  <% if @category %>
    <h2 class="post-by-cat">Posts in <%= @category.name %> Category</h2>
  <% else %>
    <h2 class="post-by-cat">All Posts</h2>
  <% end %>
  <% @posts.each do |post| %>
    <div class="post">
      <h2><%= link_to post.title, post_path(post) %></h2>
      <p><%= truncate(post.content, length: 100) %></p>
      <%= link_to 'Read More', post_path(post) %>
    </div>
  <% end %>
</section>